<?xml version="1.0" encoding="ASCII"?>
<mmag:AgreementModel
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:mmag="http://demobuilder.agreement.metamodel"
    xsi:schemaLocation="http://demobuilder.agreement.metamodel ../metamodel/MMAgreement.ecore"
    id="MyAgreement"
    version="1.0">
  <context>
    <actors
        id="Amazon"/>
    <actors
        id="Customer1"
        role="CONSUMER"
        roleType="INITIATOR"/>
    <metrics
        id="percent">
      <domain
          xsi:type="mmag:Range"/>
    </metrics>
    <metrics
        type="BOOLEAN"
        id="bool"/>
    <metrics
        id="time">
      <domain
          xsi:type="mmag:Range"
          max="1000"/>
    </metrics>
    <metrics
        type="ENUM"
        id="planTypes">
      <domain
          xsi:type="mmag:Enumerated">
        <values
            id="basic"/>
        <values
            id="medium"/>
        <values
            id="pro"/>
      </domain>
    </metrics>
  </context>
  <agTerm>
    <serviceConfigurarion
        definitionReference="http://service.com/storage"
        serviceName="StorageService">
      <features
          id="getData"/>
      <features
          id="setData">
        <parameters
            name="content"/>
      </features>
      <configurationProperties
          expression=""
          definitionReference=""
          id="SCP"
          metric="//@context/@metrics.0"/>
      <configurationProperties
          expression="true"
          id="SSD"
          metric="//@context/@metrics.1"/>
      <configurationProperties
          expression="basic"
          id="planType"
          metric="//@context/@metrics.3"/>
    </serviceConfigurarion>
    <monitorableProperties
        expression=""
        scope="LOCAL"
        id="responseTimeGetData"
        features="//@agTerm/@serviceConfigurarion/@features.0"
        metric="//@context/@metrics.2"
        monitorReference=""/>
    <monitorableProperties
        expression=""
        scope="LOCAL"
        id="responseTimeSetData"
        features="//@agTerm/@serviceConfigurarion/@features.1"
        metric="//@context/@metrics.2"/>
    <monitorableProperties
        expression=""
        id="MUP"
        metric="//@context/@metrics.0"
        monitorReference=""/>
    <guaranteeTerms
        id="G1">
      <slo expression="responseTimeGetData &lt; 150"/>
      <qualifyingCondition
          expression="SSD == true &amp;&amp; planType == &quot;basic&quot;"/>
      <compensations
          type="PENALTY">
        <compensationElements
            expression="SCP = 10"
            condition="MUP &lt; 99"/>
      </compensations>
    </guaranteeTerms>
  </agTerm>
</mmag:AgreementModel>
